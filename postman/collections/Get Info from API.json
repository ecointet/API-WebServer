{
	"info": {
		"_postman_id": "65836149-868e-4bac-9209-fb488fd2b409",
		"name": "Get Info from API",
		"description": "From a simple public IP you can get geographical information such as the City and Country",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_uid": "27516587-65836149-868e-4bac-9209-fb488fd2b409"
	},
	"item": [
		{
			"name": "locate",
			"item": [
				{
					"name": "{ip}",
					"item": [
						{
							"name": "Locate an IP",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "9b33ae44-ba42-422e-8130-0f14d49f1386",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "cccf4cb8-79f2-4560-84f9-4884c42a0729",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Check the CountryCode & City have been found\", function () {",
											"    pm.expect(jsonData.countryCode).to.be.a(\"string\");",
											"    pm.expect(jsonData.city).to.be.a(\"string\");",
											"});",
											"",
											"pm.test(\"Store the Country (\"+jsonData.country+\") & City (\"+jsonData.city+\") in variables\", function () {",
											"    pm.collectionVariables.set(\"countryCode\", jsonData.countryCode);",
											"    pm.collectionVariables.set(\"city\", jsonData.city);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "b9970553-c6e7-4059-aa61-1be859f3067d",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/locate/:ip",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"locate",
										":ip"
									],
									"variable": [
										{
											"key": "ip",
											"value": ""
										}
									]
								},
								"description": "Upon successful execution, returns a all known information about a public IP. \nThe API will also give a photo to illustrate the nearest city found.\n"
							},
							"response": [
								{
									"id": "a404ce9a-43e5-4813-8a37-a4eb8cd10627",
									"name": "Success",
									"originalRequest": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/locate/:ip",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"locate",
												":ip"
											],
											"variable": [
												{
													"key": "ip"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n  \"country\": \"<string>\",\n  \"regionName\": \"<string>\",\n  \"city\": \"<string>\",\n  \"ip\": \"<string>\",\n  \"photo\": \"<string>\"\n}"
								},
								{
									"id": "ad3e5b65-a419-4ca8-b6bd-1ccd0d7782be",
									"name": "Error",
									"originalRequest": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/locate/:ip",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"locate",
												":ip"
											],
											"variable": [
												{
													"key": "ip"
												}
											]
										}
									},
									"status": "Internal Server Error",
									"code": 500,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n  \"country\": \"<string>\",\n  \"regionName\": \"<string>\",\n  \"city\": \"<string>\",\n  \"ip\": \"<string>\",\n  \"photo\": \"<string>\"\n}"
								}
							]
						}
					],
					"id": "c459ae36-0edf-4402-b9bf-0cd482060db0"
				}
			],
			"id": "c68ddf00-9d60-41fd-97a6-91dddeee4a7a"
		},
		{
			"name": "details",
			"item": [
				{
					"name": "{country}",
					"item": [
						{
							"name": "Get Country Details from a Country Code",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "11d9ddad-c041-4dbf-a4f7-9d4e12268921",
										"type": "text/javascript",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Country Found: \"+jsonData.country, function () {",
											"    pm.expect(jsonData.country).to.be.a(\"string\");",
											"});",
											"",
											"pm.test(\"Flag Found: \"+jsonData.flag, function () {",
											"    pm.expect(jsonData.flag_img).to.be.a(\"string\");",
											"});"
										]
									}
								}
							],
							"id": "d8e35b13-9364-48ca-a986-9f492e3ac257",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/details/:country",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"details",
										":country"
									],
									"variable": [
										{
											"key": "country",
											"value": "{{countryCode}}"
										}
									]
								},
								"description": "Useful to check if a country exists, and get some details about it\n"
							},
							"response": [
								{
									"id": "6b0e8bd2-f298-4507-a33f-9268edab5ab9",
									"name": "Success",
									"originalRequest": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/details/:country",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"details",
												":country"
											],
											"variable": [
												{
													"key": "country"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n  \"country\": \"<string>\",\n  \"details\": \"<string>\"\n}"
								},
								{
									"id": "4dc242d6-7e72-4d8f-82dc-ceb373dac48b",
									"name": "Error",
									"originalRequest": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/details/:country",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"details",
												":country"
											],
											"variable": [
												{
													"key": "country"
												}
											]
										}
									},
									"status": "Internal Server Error",
									"code": 500,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n  \"message\": \"<string>\"\n}"
								}
							]
						}
					],
					"id": "3dc686e5-9cec-4dec-9196-361dbe98a36f"
				}
			],
			"id": "1682dc3c-8383-41a9-b9b8-80cbac626ee9"
		},
		{
			"name": "chatgpt",
			"item": [
				{
					"name": "{city}",
					"item": [
						{
							"name": "Get an AI generated sentence about the city",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "dfc10368-3e45-466d-a778-cf4e3b20f6e7",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Check the chatGPT sentence has been found: \"+jsonData.answer, function () {",
											"    pm.expect(jsonData.answer).to.be.a(\"string\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "306f819a-a2b7-4949-a6ab-11e300ac2458",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/chatgpt/:city",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"chatgpt",
										":city"
									],
									"variable": [
										{
											"key": "city",
											"value": "{{city}}"
										}
									]
								},
								"description": "One short sentence to describe the city requested\n"
							},
							"response": [
								{
									"id": "f2d71de4-2baf-4bf8-9bb4-ec7700bf6a69",
									"name": "Success",
									"originalRequest": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/chatgpt/:city",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"chatgpt",
												":city"
											],
											"variable": [
												{
													"key": "city"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n  \"id\": \"<string>\",\n  \"model\": \"<string>\",\n  \"answer\": \"<string>\",\n  \"question\": \"<string>\"\n}"
								},
								{
									"id": "899e6c8f-7457-479a-b0fe-f3bbdbb5e205",
									"name": "Error",
									"originalRequest": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/chatgpt/:city",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"chatgpt",
												":city"
											],
											"variable": [
												{
													"key": "city"
												}
											]
										}
									},
									"status": "Internal Server Error",
									"code": 500,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n  \"message\": \"<string>\"\n}"
								}
							]
						}
					],
					"id": "38cd39c5-aeab-4841-855d-1a5ba47353bd"
				}
			],
			"id": "0ea88b1a-99b2-4d09-b55d-2dfdbb92932e"
		}
	],
	"auth": {
		"type": "basic",
		"basic": [
			{
				"key": "username",
				"value": "{{basicAuthUsername}}",
				"type": "string"
			},
			{
				"key": "password",
				"value": "{{basicAuthPassword}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "ff0ee4e5-e72a-450f-a104-a5e4f49c0b2e",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "414143ad-84f3-4853-8ee2-737473900799",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "d4f10637-0c8b-43ea-a443-7ef1c532da89",
			"key": "baseUrl",
			"value": "https://api.gcp.cointet.com",
			"type": "any"
		},
		{
			"id": "e1c74d46-3df3-4648-ab4f-53759a806f6e",
			"key": "countryCode",
			"value": "",
			"type": "any"
		},
		{
			"id": "d262509e-5ff8-419d-b95e-a0c8843f6588",
			"key": "city",
			"value": "",
			"type": "any"
		}
	]
}